<?xml version="1.0" encoding="UTF-8"?>
<document signature="Hero Lab Data">
	<!-- TCA: Tags specific to Rifts --> 

	<thing id="grpCSInfantry" name="CS Soldier (M.A.R.S.)" description="" compset="Group" uniqueness="unique">
		<usesource source="SavRiftC"/>
		
		<tag group="Rifts" tag="MARS"/>
		<bootstrap thing="skDriving"/>
		<bootstrap thing="skFighting"/>
		<bootstrap thing="skIntimid"/>
		<bootstrap thing="skKnowElec"/>
		<bootstrap thing="skNotice"/>
		<bootstrap thing="skShooting"/>
		<bootstrap thing="skSurvival"/>
		<bootstrap thing="skThrowing"/>
		<eval phase="PreTraits" priority="5000">
			#resmax[resHeroJrn] += 1
			#resmax[resFraSel1] += 1
			perform hero.assign[Rifts.MARS]
			~hero.childfound[resSkill].field[resSpent].value += 1
			#resmax[resSkill] += 5
		</eval>
		
		<eval phase="Render" priority="10000" index="4"><![CDATA[
~set up chooser expressions for MOS Package
var header as string
header = "MOS Package: "
header &= hero.child[resFraSel1].field[resSummary].text
hero.child[ehExprHlp1].field[ehFrameAdd].text = "Select MOS package"
hero.child[ehExprHlp1].field[ehFrameExp].text = "CSMOS.?"
hero.child[ehExprHlp1].field[ehFrameHdr].text = header]]></eval>
    </thing>
	
	
	<thing id="edgCSMOSInfantry" name="CS Infantryman" description="This is your typical grunt soldier: Tough, ready for any action, and skilled in a wide variety of death, these soldiers are the basis of the army.\nM.O.S Skills: Shooting+3, Fighting+1, Throwing+1, Notice+1\nEdges: Two combat edges of choice." compset="Edge">
		<usesource source="SavRiftC"/>
		<tag group="MinRank" tag="0"/>
		<tag group="EdgeType" tag="Background"/>
		<tag group="CSMOS" tag="Infantry"/>
		<eval phase="Setup" priority="3000" index="2">		
			#resmax[resFraSel2] += 2
			perform hero.assign[CSMOS.Infantry]
		</eval>
		
		<eval phase="Render" priority="10000" index="5"><![CDATA[
var header as string
header = "Combat Edge: "
header &= hero.child[resFraSel2].field[resSummary].text

~set up chooser expressions for bonus edges
hero.child[ehExprHlp2].field[ehFrameAdd].text = "Add Combat Edge"
hero.child[ehExprHlp2].field[ehFrameExp].text = "EdgeType.Combat"
hero.child[ehExprHlp2].field[ehFrameHdr].text = header]]></eval>
		
		<evalrule phase="Final" priority="1000" message="May only select one MOS.">
			<![CDATA[validif (hero.tagcount[CSMOS.?]<= 1)]]>
		</evalrule>
		<exprreq message="Must be a CS Infantry Soldier.">
				<![CDATA[(hero.tagcount[Group.grpCSInfantry]) >= 1]]>
		</exprreq>
    </thing>
	
	<thing id="edgCSMOSForObs" name="CS Forward Observer" description="Part of the Ranger Corps, forward observers help artillery and air strikes to be more precise. They also prevent aircraft from dropping ordinance on friendly forces.\nAdds one die type to Vigor.\nM.O.S Skills:  K/Electronics+2, Notice+2, Stealth+2 \nEdges: Woodsman, Spotter.\n\nBegins with a hand held Nightvision Targeting Scope that can link to a radio to transmit targeting information (K/Electronics to use)." compset="Edge">
		<usesource source="SavRiftC"/>
		<tag group="MinRank" tag="0"/>
		<tag group="EdgeType" tag="Background"/>
		<tag group="CSMOS" tag="ForwardObserver"/>
		<bootstrap thing="edgWoodsmn">
			<autotag group="thing" tag="skipprereq"/>
		</bootstrap>
		<eval phase="PreTraits" priority="5001"><![CDATA[
			perform hero.assign[CSMOS.ForwardObserver]
			#traitcreation[attrVig] += 1
		]]>
		</eval>
		
		
		<evalrule phase="Final" priority="1000" message="May only select one MOS.">
			<![CDATA[validif (hero.tagcount[CSMOS.?]<= 1)]]>
		</evalrule>
		<exprreq message="Must be a CS Soldier."><![CDATA[(hero.tagcount[Group.grpCSInfantry]) >= 1]]></exprreq>
		<exprreq message="Smarts d8 required."><![CDATA[#trait[attrSma] >= 4]]></exprreq>
    </thing>
</document>
